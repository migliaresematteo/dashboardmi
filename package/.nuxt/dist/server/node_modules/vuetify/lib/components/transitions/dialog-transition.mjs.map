{"version":3,"file":"dialog-transition.mjs","sources":["../../../../../../../../node_modules/vuetify/lib/components/transitions/dialog-transition.mjs"],"sourcesContent":["// Utilities\nimport { Transition, mergeProps as _mergeProps, createVNode as _createVNode } from 'vue';\nimport { acceleratedEasing, animate, deceleratedEasing, genericComponent, nullifyTransforms, propsFactory, standardEasing } from \"../../util/index.mjs\";\nimport { getTargetBox } from \"../../util/box.mjs\"; // Types\nexport const makeVDialogTransitionProps = propsFactory({\n  target: [Object, Array]\n}, 'v-dialog-transition');\nexport const VDialogTransition = genericComponent()({\n  name: 'VDialogTransition',\n  props: makeVDialogTransitionProps(),\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const functions = {\n      onBeforeEnter(el) {\n        el.style.pointerEvents = 'none';\n        el.style.visibility = 'hidden';\n      },\n      async onEnter(el, done) {\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        el.style.visibility = '';\n        const {\n          x,\n          y,\n          sx,\n          sy,\n          speed\n        } = getDimensions(props.target, el);\n        const animation = animate(el, [{\n          transform: `translate(${x}px, ${y}px) scale(${sx}, ${sy})`,\n          opacity: 0\n        }, {}], {\n          duration: 225 * speed,\n          easing: deceleratedEasing\n        });\n        getChildren(el)?.forEach(el => {\n          animate(el, [{\n            opacity: 0\n          }, {\n            opacity: 0,\n            offset: 0.33\n          }, {}], {\n            duration: 225 * 2 * speed,\n            easing: standardEasing\n          });\n        });\n        animation.finished.then(() => done());\n      },\n      onAfterEnter(el) {\n        el.style.removeProperty('pointer-events');\n      },\n      onBeforeLeave(el) {\n        el.style.pointerEvents = 'none';\n      },\n      async onLeave(el, done) {\n        await new Promise(resolve => requestAnimationFrame(resolve));\n        const {\n          x,\n          y,\n          sx,\n          sy,\n          speed\n        } = getDimensions(props.target, el);\n        const animation = animate(el, [{}, {\n          transform: `translate(${x}px, ${y}px) scale(${sx}, ${sy})`,\n          opacity: 0\n        }], {\n          duration: 125 * speed,\n          easing: acceleratedEasing\n        });\n        animation.finished.then(() => done());\n        getChildren(el)?.forEach(el => {\n          animate(el, [{}, {\n            opacity: 0,\n            offset: 0.2\n          }, {\n            opacity: 0\n          }], {\n            duration: 125 * 2 * speed,\n            easing: standardEasing\n          });\n        });\n      },\n      onAfterLeave(el) {\n        el.style.removeProperty('pointer-events');\n      }\n    };\n    return () => {\n      return props.target ? _createVNode(Transition, _mergeProps({\n        \"name\": \"dialog-transition\"\n      }, functions, {\n        \"css\": false\n      }), slots) : _createVNode(Transition, {\n        \"name\": \"dialog-transition\"\n      }, slots);\n    };\n  }\n});\n\n/** Animatable children (card, sheet, list) */\nfunction getChildren(el) {\n  const els = el.querySelector(':scope > .v-card, :scope > .v-sheet, :scope > .v-list')?.children;\n  return els && [...els];\n}\nfunction getDimensions(target, el) {\n  const targetBox = getTargetBox(target);\n  const elBox = nullifyTransforms(el);\n  const [originX, originY] = getComputedStyle(el).transformOrigin.split(' ').map(v => parseFloat(v));\n  const [anchorSide, anchorOffset] = getComputedStyle(el).getPropertyValue('--v-overlay-anchor-origin').split(' ');\n  let offsetX = targetBox.left + targetBox.width / 2;\n  if (anchorSide === 'left' || anchorOffset === 'left') {\n    offsetX -= targetBox.width / 2;\n  } else if (anchorSide === 'right' || anchorOffset === 'right') {\n    offsetX += targetBox.width / 2;\n  }\n  let offsetY = targetBox.top + targetBox.height / 2;\n  if (anchorSide === 'top' || anchorOffset === 'top') {\n    offsetY -= targetBox.height / 2;\n  } else if (anchorSide === 'bottom' || anchorOffset === 'bottom') {\n    offsetY += targetBox.height / 2;\n  }\n  const tsx = targetBox.width / elBox.width;\n  const tsy = targetBox.height / elBox.height;\n  const maxs = Math.max(1, tsx, tsy);\n  const sx = tsx / maxs || 0;\n  const sy = tsy / maxs || 0;\n\n  // Animate elements larger than 12% of the screen area up to 1.5x slower\n  const asa = elBox.width * elBox.height / (window.innerWidth * window.innerHeight);\n  const speed = asa > 0.12 ? Math.min(1.5, (asa - 0.12) * 10 + 1) : 1;\n  return {\n    x: offsetX - (originX + elBox.left),\n    y: offsetY - (originY + elBox.top),\n    sx,\n    sy,\n    speed\n  };\n}\n//# sourceMappingURL=dialog-transition.mjs.map"],"names":["el","_createVNode","_mergeProps"],"mappings":"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","x_google_ignoreList":[0]}