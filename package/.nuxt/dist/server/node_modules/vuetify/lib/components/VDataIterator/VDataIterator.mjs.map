{"version":3,"file":"VDataIterator.mjs","sources":["../../../../../../../../node_modules/vuetify/lib/components/VDataIterator/VDataIterator.mjs"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\n// Components\nimport { VFadeTransition } from \"../transitions/index.mjs\";\nimport { makeDataTableExpandProps, provideExpanded } from \"../VDataTable/composables/expand.mjs\";\nimport { makeDataTableGroupProps, provideGroupBy, useGroupedItems } from \"../VDataTable/composables/group.mjs\";\nimport { useOptions } from \"../VDataTable/composables/options.mjs\";\nimport { createPagination, makeDataTablePaginateProps, providePagination, usePaginatedItems } from \"../VDataTable/composables/paginate.mjs\";\nimport { makeDataTableSelectProps, provideSelection } from \"../VDataTable/composables/select.mjs\";\nimport { createSort, makeDataTableSortProps, provideSort, useSortedItems } from \"../VDataTable/composables/sort.mjs\"; // Composables\nimport { makeDataIteratorItemsProps, useDataIteratorItems } from \"./composables/items.mjs\";\nimport { makeComponentProps } from \"../../composables/component.mjs\";\nimport { makeFilterProps, useFilter } from \"../../composables/filter.mjs\";\nimport { LoaderSlot } from \"../../composables/loader.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeTransitionProps, MaybeTransition } from \"../../composables/transition.mjs\"; // Utilities\nimport { computed, toRef } from 'vue';\nimport { genericComponent, propsFactory, useRender } from \"../../util/index.mjs\"; // Types\nexport const makeVDataIteratorProps = propsFactory({\n  search: String,\n  loading: Boolean,\n  ...makeComponentProps(),\n  ...makeDataIteratorItemsProps(),\n  ...makeDataTableSelectProps(),\n  ...makeDataTableSortProps(),\n  ...makeDataTablePaginateProps({\n    itemsPerPage: 5\n  }),\n  ...makeDataTableExpandProps(),\n  ...makeDataTableGroupProps(),\n  ...makeFilterProps(),\n  ...makeTagProps(),\n  ...makeTransitionProps({\n    transition: {\n      component: VFadeTransition,\n      hideOnLeave: true\n    }\n  })\n}, 'VDataIterator');\nexport const VDataIterator = genericComponent()({\n  name: 'VDataIterator',\n  props: makeVDataIteratorProps(),\n  emits: {\n    'update:modelValue': value => true,\n    'update:groupBy': value => true,\n    'update:page': value => true,\n    'update:itemsPerPage': value => true,\n    'update:sortBy': value => true,\n    'update:options': value => true,\n    'update:expanded': value => true,\n    'update:currentItems': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const groupBy = useProxiedModel(props, 'groupBy');\n    const search = toRef(props, 'search');\n    const {\n      items\n    } = useDataIteratorItems(props);\n    const {\n      filteredItems\n    } = useFilter(props, items, search, {\n      transform: item => item.raw\n    });\n    const {\n      sortBy,\n      multiSort,\n      mustSort\n    } = createSort(props);\n    const {\n      page,\n      itemsPerPage\n    } = createPagination(props);\n    const {\n      toggleSort\n    } = provideSort({\n      sortBy,\n      multiSort,\n      mustSort,\n      page\n    });\n    const {\n      sortByWithGroups,\n      opened,\n      extractRows,\n      isGroupOpen,\n      toggleGroup\n    } = provideGroupBy({\n      groupBy,\n      sortBy\n    });\n    const {\n      sortedItems\n    } = useSortedItems(props, filteredItems, sortByWithGroups, {\n      transform: item => item.raw\n    });\n    const {\n      flatItems\n    } = useGroupedItems(sortedItems, groupBy, opened);\n    const itemsLength = computed(() => flatItems.value.length);\n    const {\n      startIndex,\n      stopIndex,\n      pageCount,\n      prevPage,\n      nextPage,\n      setItemsPerPage,\n      setPage\n    } = providePagination({\n      page,\n      itemsPerPage,\n      itemsLength\n    });\n    const {\n      paginatedItems\n    } = usePaginatedItems({\n      items: flatItems,\n      startIndex,\n      stopIndex,\n      itemsPerPage\n    });\n    const paginatedItemsWithoutGroups = computed(() => extractRows(paginatedItems.value));\n    const {\n      isSelected,\n      select,\n      selectAll,\n      toggleSelect\n    } = provideSelection(props, {\n      allItems: items,\n      currentPage: paginatedItemsWithoutGroups\n    });\n    const {\n      isExpanded,\n      toggleExpand\n    } = provideExpanded(props);\n    useOptions({\n      page,\n      itemsPerPage,\n      sortBy,\n      groupBy,\n      search\n    });\n    const slotProps = computed(() => ({\n      page: page.value,\n      itemsPerPage: itemsPerPage.value,\n      sortBy: sortBy.value,\n      pageCount: pageCount.value,\n      toggleSort,\n      prevPage,\n      nextPage,\n      setPage,\n      setItemsPerPage,\n      isSelected,\n      select,\n      selectAll,\n      toggleSelect,\n      isExpanded,\n      toggleExpand,\n      isGroupOpen,\n      toggleGroup,\n      items: paginatedItemsWithoutGroups.value,\n      groupedItems: paginatedItems.value\n    }));\n    useRender(() => _createVNode(props.tag, {\n      \"class\": ['v-data-iterator', {\n        'v-data-iterator--loading': props.loading\n      }, props.class],\n      \"style\": props.style\n    }, {\n      default: () => [slots.header?.(slotProps.value), _createVNode(MaybeTransition, {\n        \"transition\": props.transition\n      }, {\n        default: () => [props.loading ? _createVNode(LoaderSlot, {\n          \"key\": \"loader\",\n          \"name\": \"v-data-iterator\",\n          \"active\": true\n        }, {\n          default: slotProps => slots.loader?.(slotProps)\n        }) : _createVNode(\"div\", {\n          \"key\": \"items\"\n        }, [!paginatedItems.value.length ? slots['no-data']?.() : slots.default?.(slotProps.value)])]\n      }), slots.footer?.(slotProps.value)]\n    }));\n    return {};\n  }\n});\n//# sourceMappingURL=VDataIterator.mjs.map"],"names":["_createVNode","slotProps","_a","_b"],"mappings":"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","x_google_ignoreList":[0]}